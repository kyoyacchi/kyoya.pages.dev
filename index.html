<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kyoya</title>
    
    <!-- Favicon and Meta Tags -->
    <link rel="icon" type="image/png" href="https://avatars.githubusercontent.com/u/63583961">
    <meta name="description" content="Kyoya's personal website.">
    <meta name="author" content="Kyoya">
    <meta name="theme-color" content="#6C2BD9">
    <meta name="publisher" content="Kyoya">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Kyoya">
    <meta property="og:description" content="Kyoya's personal website">
    <meta property="og:url" content="https://kyoya.ga">
    <meta property="og:image" content="https://cdn.myanimelist.net/images/userimages/11524769.jpg">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons and Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Loading Screen -->
    <div class="loader">
        <div class="loader-content">
            <lottie-player src="https://lottie.host/d94c3bda-4ead-4bc6-95ff-68ee5e0ff8de/cMkjjq7sjc.json" background="transparent" speed="1" style="width: 240px; height: 240px" loop autoplay></lottie-player>
            <p class="loader-quote"></p>
        </div>
    </div>
    
    <!-- Cursor Effects -->
    <div class="cursor-dot-outline"></div>
    <div class="cursor-dot"></div>

    <!-- Background Elements -->
    <canvas id="particles-canvas"></canvas>
    
    <main class="profile">
        <!-- Banner Section -->
        <section class="banner">
            <img src="https://pbs.twimg.com/profile_banners/1283317081631416320/1739900077/1080x360" alt="Profile Banner">
        </section>
        
        <!-- Profile Information -->
        <section class="profile-info container">
            <div class="profile-header">
                <div class="profile-image-container">
                    <img src="https://avatars.githubusercontent.com/u/63583961" alt="Kyoya" class="profile-image">
                </div>
                <div class="profile-details">
                    <div class="profile-name">
                        <h1>Kyoや</h1>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="verified-badge" viewBox="0 0 16 16">
                            <title>Verified</title>
                            <path d="M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z"></path>
                        </svg>
                    </div>
                    <p class="profile-username">@kyoyacchi</p>
                    <div class="profile-bio">I love Ei</div>
                    
                    <div class="social-links">
                        <a href="https://x.com/kyoyacchi" target="_blank" aria-label="Twitter">
                            <i class="fab fa-x-twitter"></i>
                        </a>
                        <a href="https://instagram.com/kyoyacchi" target="_blank" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://myanimelist.net/profile/kyoyatempest" target="_blank" aria-label="MyAnimeList">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="https://github.com/kyoyacchi" target="_blank" aria-label="GitHub">
                            <i class="fab fa-github"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Tweet Section -->
        <section class="tweet-section container">
            <div class="section-title">
                <i class="fas fa-feather"></i>
                <h2>Latest Update</h2>
            </div>
            
            <div class="tweet-container">
                <div class="loading-indicator">
                    <div class="spinner"></div>
                    <p>Loading tweet...</p>
                </div>
                
                <div class="tweet-embed">
                    <blockquote class="twitter-tweet" data-lang="en" data-theme="dark">
                        <p lang="en" dir="ltr">RAAAAAAGAHSJSHAHSHNADJAJDJ I DID IT! <a href="https://twitter.com/hashtag/raidenshogun?src=hash&ref_src=twsrc%5Etfw">#raidenshogun</a> <a href="https://twitter.com/hashtag/genshinimpact?src=hash&ref_src=twsrc%5Etfw">#genshinimpact</a> WITH HER WEAPON LMAOAOOOO <a href="https://t.co/L7mJJ3DezG">pic.twitter.com/L7mJJ3DezG</a></p>— Kyoや (@kyoyacchi) <a href="https://twitter.com/kyoyacchi/status/1836094129312297212?ref_src=twsrc%5Etfw">September 17, 2024</a>
                    </blockquote>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <p class="footer-credit">
                    Made with <i class="heart-icon fas fa-heart"></i> by 
                    <img id="discord-avatar" src="" alt="Discord Avatar">
                    <span class="creator-name">Kyo</span>
                </p>
                <p class="footer-quote">"This website is under the protection of the <span class="accent-text">The Almighty Raiden Shogun</span> and the Shogunate."</p>
            </div>
        </div>
    </footer>
    
    <!-- Twitter Widget -->
    <script async src="https://platform.twitter.com/widgets.js"></script>
    
    <!-- Custom Scripts -->
    <script>
        // Loading Screen
        document.addEventListener('DOMContentLoaded', () => {
            const quotes = [
                'Now you shall perish!',
                'There is no escape!',
                'Inazuma shines eternal!',
                'Inabikari sunawachi eien nari!',
                'Mikirimashita'
            ];
            
            const quoteElement = document.querySelector('.loader-quote');
            quoteElement.textContent = quotes[Math.floor(Math.random() * quotes.length)];
            
            setTimeout(() => {
                document.querySelector('.loader').classList.add('fade-out');
                setTimeout(() => {
                    document.querySelector('.loader').style.display = 'none';
                    document.body.classList.add('loaded');
                }, 500);
            }, 2000);
        });
        
        // Verified Badge Animation
        document.querySelector('.verified-badge').addEventListener('click', function() {
            this.classList.add('animate-badge');
            setTimeout(() => {
                this.classList.remove('animate-badge');
            }, 800);
        });
        
        // Heart Color Animation
        const heartIcon = document.querySelector('.heart-icon');
        const colors = ['#ff6b6b', '#8a2be2', '#48dbfb', '#1dd1a1', '#ff9ff3'];
        let colorIndex = 0;
        
        heartIcon.addEventListener('mouseenter', function() {
            let interval = setInterval(() => {
                this.style.color = colors[colorIndex];
                colorIndex = (colorIndex + 1) % colors.length;
            }, 200);
            
            setTimeout(() => {
                clearInterval(interval);
                this.style.color = '';
            }, 1200);
        });
        
        // Twitter Embed Loading
        document.addEventListener('DOMContentLoaded', function() {
            const tweetContainer = document.querySelector('.tweet-container');
            const tweetEmbed = document.querySelector('.tweet-embed');
            const loadingIndicator = document.querySelector('.loading-indicator');
            
            // Observer for tweet loading
            const observer = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting) {
                    // Wait for Twitter widget to load
                    if (window.twttr) {
                        window.twttr.ready(function() {
                            window.twttr.events.bind('rendered', function() {
                                showTweet();
                            });
                        });
                    }
                    
                    // Fallback if Twitter widget takes too long
                    setTimeout(showTweet, 5000);
                    observer.unobserve(tweetContainer);
                }
            }, { threshold: 0.1 });
            
            observer.observe(tweetContainer);
            
            function showTweet() {
                tweetEmbed.style.opacity = '1';
                loadingIndicator.style.display = 'none';
            }
        });
        
        // Discord Avatar Loading
        async function getDiscordAvatar() {
            const avatarElement = document.getElementById('discord-avatar');
            const defaultAvatar = 'https://avatars.githubusercontent.com/u/63583961';
            let avatarUrl = localStorage.getItem('discord-avatar');
            
            // Show stored avatar immediately if available
            if (avatarUrl) {
                avatarElement.src = avatarUrl;
            } else {
                avatarElement.src = defaultAvatar;
            }
            
            // Try to fetch updated avatar
            try {
                const response = await axios.get('https://kyopi.vercel.app/api/pfp?id=468509605828493322');
                avatarUrl = response.data.avatar;
                
                if (avatarUrl && avatarUrl !== localStorage.getItem('discord-avatar')) {
                    avatarElement.src = avatarUrl;
                    localStorage.setItem('discord-avatar', avatarUrl);
                    showNotification('Avatar updated successfully');
                }
            } catch (error) {
                console.error('Failed to fetch Discord avatar:', error);
                showNotification('Could not update avatar, using default', true);
            }
            
            // Handle image error
            avatarElement.onerror = () => {
                avatarElement.src = defaultAvatar;
            };
        }
        
        // Notification System
        function showNotification(message, isError = false) {
            const notification = document.createElement('div');
            notification.className = 'notification ' + (isError ? 'error' : 'success');
            
            const icon = document.createElement('i');
            icon.className = isError ? 'fas fa-times' : 'fas fa-check';
            
            const text = document.createElement('span');
            text.textContent = message;
            
            notification.appendChild(icon);
            notification.appendChild(text);
            document.body.appendChild(notification);
            
            // Animation
            setTimeout(() => notification.classList.add('show'), 10);
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        // Particle Background
        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.getElementById('particles-canvas');
            const ctx = canvas.getContext('2d');
            
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            class Particle {
                constructor() {
                    this.reset();
                }
                
                reset() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 2 + 1;
                    this.speedX = (Math.random() - 0.5) * 1;
                    this.speedY = (Math.random() - 0.5) * 1;
                    this.opacity = Math.random() * 0.5 + 0.2;
                    this.color = {
                        h: 270 + Math.random() * 30,
                        s: 70 + Math.random() * 30,
                        l: 50 + Math.random() * 20
                    };
                }
                
                update(scrollSpeed) {
                    this.x += this.speedX;
                    this.y += this.speedY + scrollSpeed * 0.1;
                    this.opacity -= 0.003;
                    
                    if (this.x < 0 || this.x > canvas.width || 
                        this.y < 0 || this.y > canvas.height || 
                        this.opacity <= 0) {
                        this.reset();
                    }
                }
                
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fillStyle = `hsla(${this.color.h}, ${this.color.s}%, ${this.color.l}%, ${this.opacity})`;
                    ctx.fill();
                }
            }
            
            const particles = [];
            const particleCount = 40;
            
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }
            
            let lastScrollY = window.scrollY;
            
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const currentScrollY = window.scrollY;
                const scrollSpeed = currentScrollY - lastScrollY;
                lastScrollY = currentScrollY;
                
                particles.forEach(particle => {
                    particle.update(scrollSpeed);
                    particle.draw();
                });
                
                requestAnimationFrame(animate);
            }
            
            animate();
        });
        
        // Initialize Discord Avatar
        document.addEventListener('DOMContentLoaded', getDiscordAvatar);
    </script>
</body>
</html>
